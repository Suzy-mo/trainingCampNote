# JAVA查漏补缺之面向对象

## 一、类和对象

### 用表格思想理解

[【尚学堂】Java300集2020 理解面向对象](https://www.bilibili.com/video/BV1f7411Z7bu?p=71)

类对应表格的结构 比如姓名 年龄.....以及其中的关系和执行的动作等

对象对应每一行的数据（实例化）

### 类的详解

类包含 成员变量（属性）、方法、构造方法

成员变量是属于类的

构造器通过new调用

构造器的重载（有不同的构造器）



## 二、面向对象与面向过程的区别

面向过程：执行对应步骤（执行者）

面向对象：拆分对象（设计者）

eg：怎么造车

分开车里面包含的对象 分别完成对象的采购（不需要了解怎么做的，拿封装好的）



## 三、内存分析

同一个类的每个对象有不同的成员变量存储空间

同一类的每个对象共享该类的方法

![](E:\QG移动组\QG2021暑假训练营\JAVA查漏补缺\图片\JVM内存分析.png)

### 程序计数器

存储当前线程正在执行的java方法的JVM指令的地址（字节码的行号）

### 虚拟机栈

* 该区域存储着局部变量表，编译时期可知的各种基本数据类型、对象引用、方法出口等信息
* **每个方法被调用都会创建一个栈帧（局部变量）**
* JVM为每个线程创建一个栈，存放该线程执行方法的信息（实际参数、局部变量）
* 栈由系统自动分配，速度快，连续

### 堆

* 几乎所有创建的Java对象实例都是被直接分配到堆上的
* 用于储存**创建好的对象和数组**
* JVM只有一个堆，被所有线程共享
* 不连续 灵活

### 方法区（静态区）

存储被虚拟机加载的元数据 包括**类信息、常量、静态变量**、即时编译器编译后的代码等数据

是一种java虚拟机的规范

包含运行时常量池

用于存放唯一或者永远不变的

### 参数传值机制

方法中所有的参数都是”值传递“（传递的是值的副本）不会影响原值

* 基本数据类型参数的传值是副本，副本改变不会影响原件

* 引用类型参数的传值也是副本，但是引用类型指的是”对象的地址“

  副本和参数都指向同一个地址，改变副本指向地址对象的值，原参数指向对象的值也发生了改变

### 开发中容易造成内存泄漏的操作

* 创建大量无用对象 （大量字符拼接 用StringBuilder比String好）
* 静态集合类类的使用（HashMap List ）
* 连接对象（网络连接 数据库连接 IO流对象要释放 ）

## 四、this和static关键字

### this

* 本质：”创建好的对象的地址“

* 隐式参数

* 在程序中 this指明当前对象

* 普通方法中 this表示调用该方法的对象

* 构造方法中 this指向正要初始化的对象

* 不能用在static方法里面

* ```java
  public User(int a,int b,int c){
  this(a,b);//this()可用于调用其他构造器且位于第一行
      this.c = c;
  }
  ```


### static

* 位于类里面
* static方法中不可直接访问非static的成员
* 有static修饰的放在方法块里面
* 静态方法中不能放非静态的属性和方法

## 五、三大特征

### 继承

* 代码复用  父类里面的方法子类都可以得到，但不是全都能用（私有的）
*  实现类的拓展  重写
* instanceof 判断是否继承
* 组合：将父类作为子类的属性new一个对象
* super 直接父类对象的引用 通过super访问父类中覆盖子类的方法

![](E:\QG移动组\QG2021暑假训练营\JAVA查漏补缺\图片\继承super.jpg)

* 没有super（）或者this（） 会默认super调用父类的构造器

### 封装

* 高内聚、低耦合
* 一般用private
* 提供相应的set和get方法
* 本类的辅助类或者方法用private 希望其他可以用的用public

### 多态

* 同一个方法调用 由于对象不同可能会有不同的行为
* ![](E:\QG移动组\QG2021暑假训练营\JAVA查漏补缺\图片\多态.jpg)

* 父类引用指向子类对象

```java
Animal a1 = new cat();
```

![](E:\QG移动组\QG2021暑假训练营\JAVA查漏补缺\图片\多态例子1.jpg)

![](E:\QG移动组\QG2021暑假训练营\JAVA查漏补缺\图片\多态例子2.jpg)

## 六、抽象类和接口

### 抽象类和抽象方法

abstract修饰  

只有声明，没有具体实现

必须被子类实现

### 接口interface

![](E:\QG移动组\QG2021暑假训练营\JAVA查漏补缺\图片\接口.jpg)

用接口可以实现多继承